<?xml version="1.0" encoding="utf-8" ?>
<odoo>

    <record id="shoes_dealer_product_ir_cron" model="ir.cron">
        <field name="name">=> Update shoes products attributes and boms</field>
        <field ref="model_product_product" name="model_id"/>
        <field eval="True" name="active" />
        <field name="user_id" ref="base.user_root" />
        <field name="interval_number">5</field>
        <field name="interval_type">minutes</field>
        <field name="numbercall">-1</field>
        <field eval="False" name="doall" />
        <field name="state">code</field>
        <field name="code">model.update_shoes_products()</field>
    </record>

    <record id="shoes_dealer_update_product_product" model="base.automation">
        <field name="name">=> Update shoes product product</field>
        <field name="model_id" ref="product.model_product_product"/>
        <field name="state">code</field>
        <field name="code">
            record.update_shoes_pp()
        </field>
        <field name="trigger">on_create_or_write</field>
        <field name="filter_pre_domain"></field>
        <field name="filter_domain"></field>
        <field name="active" eval="True"/>
    </record>


    <record id="shoes_dealer_sync_assortment_pair_attributes" model="base.automation">
        <field name="name">=> Sync shoes attributes from assortment to pairs</field>
        <field name="model_id" ref="product.model_product_template_attribute_value"/>
        <field name="state">code</field>
        <field name="code">
            record._unlink_unused_attributes_from_assortment_to_pairs()
        </field>
        <field name="trigger">on_unlink</field>
        <field name="filter_pre_domain"></field>
        <field name="filter_domain"></field>
        <field name="active" eval="True"/>
    </record>



    <record id="shoes_dealer_update_standard_price" model="base.automation">
        <field name="name">=> Update cost prices</field>
        <field name="model_id" ref="product.model_product_template"/>
        <field name="state">code</field>
        <field name="code">
            record.update_standard_price_on_variants()
        </field>
        <field name="trigger">on_write</field>
        <field name="trigger_field_ids" eval="[(6,0, [ref('shoes_dealer.field_product_template__shoes_campaign_id'),
                                                    ref('shoes_dealer.field_product_template__exwork'),
                                                    ref('shoes_dealer.field_product_template__exwork_single'),
                                                    ref('product.field_product_template__product_variant_ids')])]"/>
        <field name="filter_pre_domain"></field>
        <field name="filter_domain"></field>
        <field name="active" eval="True"/>
    </record>


    <record id="shoes_dealer_update_supplier_info" model="base.automation">
        <field name="name">=> Update Supplier info</field>
        <field name="model_id" ref="product.model_product_template"/>
        <field name="state">code</field>
        <field name="code">
            record.update_supplier_info()
        </field>
        <field name="trigger">on_write</field>
        <field name="trigger_field_ids" eval="[(6,0, [ref('shoes_dealer.field_product_template__exwork_single'),
                                                    ref('product.field_product_template__product_variant_ids'),
                                                    ref('shoes_dealer.field_product_template__manufacturer_id')])]"/>
        <field name="filter_pre_domain"></field>
        <field name="filter_domain"></field>
        <field name="active" eval="True"/>
    </record>


</odoo>
